"use strict";(self.webpackChunkplonemeeting_portal_core_bundle=self.webpackChunkplonemeeting_portal_core_bundle||[]).push([[481],{3481:(e,l,i)=>{i.a(e,(async(e,a)=>{try{i.r(l),i.d(l,{default:()=>u});var t=i(8268),n=i(7898),r=i(3260),s=i(2347),c=i(462),o=i.n(c),d=i(2484),b=e([n]);n=(b.then?(await b)():b)[0];const u=e=>{let{file:l}=e;const[i,a]=(0,t.useState)(1),[c,b]=(0,t.useState)(0),[u,p]=(0,t.useState)(1),[m,h]=(0,t.useState)(!0),[v,g]=(0,t.useState)(!1),[f,Y]=(0,t.useState)(!1),w=(0,t.useRef)(null),{pdfDocument:N,pdfPage:k}=(0,n.y)({file:l,page:i,rotate:c,scale:2*u,canvasRef:w});(0,r.vJ)((()=>{window.addEventListener("scroll",(()=>{if(w.current){const e=w.current.getBoundingClientRect();Y(e.top<150&&e.bottom>0)}}))}),[]);const C=e=>{m?(p(1),setTimeout((()=>h(!1)),100)):(h(!0),p(3))},D=()=>{Y(!1),g(!v)},F=e=>e>=3,P=e=>e<=.25;return(0,d.FD)(d.FK,{children:[(0,d.FD)("div",{className:"pdf-viewer  ".concat(v?"pdf-viewer-full-screen":""),children:[Boolean(N&&N.numPages)&&(0,d.FD)("nav",{className:"pdf-viewer-toolbar ".concat(!v&&f?"fixed-toolbar":""),children:[(0,d.Y)("div",{className:"pdf-viewer-toolbar-left",children:(0,d.FD)("div",{className:"btn-group",children:[(0,d.Y)("a",{className:"btn",href:l,target:"_blank",title:"Télécharger le document",children:(0,d.Y)("i",{class:"bi bi-file-earmark-arrow-down"})}),(0,d.Y)("button",{className:"btn",onClick:()=>{o()({printable:l,type:"pdf"})},title:"Imprimer le document",children:(0,d.Y)("i",{class:"bi bi-printer"})})]})}),(0,d.FD)("div",{className:"pdf-viewer-toolbar-center",children:[(0,d.Y)("button",{className:"btn",disabled:1===i,onClick:()=>a(i-1),title:"Page précédente",children:(0,d.Y)("i",{class:"bi bi-chevron-left"})},i-1),(0,d.FD)("div",{class:"pdf-viewer-page-count",children:[i," / ",N.numPages]}),(0,d.Y)("button",{className:"btn",disabled:i===N.numPages,onClick:()=>a(i+1),title:"Page suivante",children:(0,d.Y)("i",{class:"bi bi-chevron-right"})},i+1)]}),(0,d.FD)("div",{className:"pdf-viewer-toolbar-right",children:[(0,d.Y)("div",{class:"btn-group border-end",role:"group","aria-label":"Basic example",children:(0,d.Y)("button",{className:"btn",onClick:()=>b(c+90),title:"Tourner la page",children:(0,d.Y)("i",{class:"bi bi-arrow-clockwise"})})}),!m&&(0,d.Y)("div",{class:"btn-group border-end",children:(0,d.Y)("button",{className:"btn",onClick:C,title:"Pleine largeur",children:(0,d.Y)("i",{class:"bi bi-arrows-expand-vertical"})})}),m&&(0,d.Y)("div",{class:"btn-group border-end",children:(0,d.Y)("button",{className:"btn",onClick:C,title:"Réduire",children:(0,d.Y)("i",{class:"bi bi-arrows-collapse-vertical"})})}),(0,d.FD)("div",{class:"btn-group border-end",role:"group",children:[(0,d.Y)("button",{className:"btn",onClick:e=>{m?(p(2),setTimeout((()=>h(!1)),100)):F(u)||p(u+.25)},title:"Zoomer",children:(0,d.Y)("i",{class:"bi bi-plus-lg"})}),(0,d.Y)("button",{className:"btn",onClick:e=>{m?(p(.75),setTimeout((()=>h(!1)),100)):P(u)||p(u-.25)},title:"Dézoomer",children:(0,d.Y)("i",{class:"bi bi-dash-lg"})})]}),(0,d.FD)("div",{class:"btn-group",role:"group",children:[!v&&(0,d.Y)("button",{className:"btn",onClick:D,title:"Plein écran",children:(0,d.Y)("i",{class:"bi bi-arrows-fullscreen"})}),v&&(0,d.Y)("button",{className:"btn",onClick:D,title:"Fermer",children:(0,d.Y)("i",{class:"bi bi-x-lg"})})]})]})]}),(0,d.Y)("div",{class:"pdf-viewer-page-viewport",children:(0,d.FD)("div",{className:"pdf-viewer-page-container",children:[!N&&(0,d.Y)("img",{src:(0,s.aB)()+"/assets/ajax-spinner.svg",alt:"loading..."}),N&&(0,d.Y)("canvas",{className:m?"pdf-full-width":"",ref:w})]})})]}),v&&(0,d.Y)("button",{className:"pdf-viewer-full-screen-overlay",onClick:D})]})};a()}catch(e){a(e)}}))}}]);