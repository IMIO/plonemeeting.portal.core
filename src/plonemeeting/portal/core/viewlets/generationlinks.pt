<div
  id="doc-generation-view" tal:condition="view/available" i18n:domain="collective.documentgenerator" tal:define="icons nocall:context/@@iconresolver;">
  <h2>
    <tal:icon tal:replace="structure python:icons.tag('files', tag_class='icon-x1 mb-1')" />
    <tal:title tal:content="string:Génération de documents" />
  </h2>
  <hr class="my-2"/>
  <ul
    class="pod-template d-flex align-items-center justify-content-start w-100" tal:define="infos view/get_links_info; titles python:infos.keys();">
    <li tal:repeat="title titles" class="template-link">
      <div class="dropdown me-2" tal:condition="python: len(infos[title]) > 1">
        <a class="btn btn-light dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
           aria-expanded="false">
          <tal:title tal:content="title" />
        </a>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li tal:repeat="link python: infos[title]">
            <a
              class="dropdown-item" tal:define="pretty_file python:view.pretty_file_icon(link['output_format']);" tal:attributes="href link/link; title string:${link/output_format_title};"
              target="_blank">
              <i tal:attributes="class pretty_file/icon"></i>
              <tal:title tal:content="link/output_format_title" />
            </a>
          </li>
        </ul>
      </div>
      <a
        class="btn btn-light me-2" tal:condition="python: len(infos[title]) == 1" tal:define="link python:infos[title][0]; pretty_file python:view.pretty_file_icon(infos[title][0]['output_format']);" tal:attributes="href link/link; title string:${link/output_format_title}"
        target="_blank"
        role="button">
        <i tal:attributes="class pretty_file/icon"></i>
        <tal:title tal:content="title" />
      </a>
    </li>
  </ul>
</div>
